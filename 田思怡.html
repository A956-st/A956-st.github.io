<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>田思怡宝宝专属页面</title>
    <style>
        /* 彩色渐变背景 */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background: linear-gradient(120deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1, #fbc2eb, #84fab0);
            background-size: 600% 600%;
            animation: gradientBg 15s ease infinite;
            overflow: hidden;
            font-family: "Microsoft YaHei", sans-serif;
        }
        @keyframes gradientBg {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 雪花特效容器 */
        #snowContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        .snow {
            position: absolute;
            color: #fff;
            font-size: 16px;
            text-shadow: 0 0 5px rgba(0,0,0,0.3);
            animation: snowFall linear infinite;
        }
        @keyframes snowFall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* 弹窗样式 */
        .modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 100;
            width: 80%;
            max-width: 400px;
            display: none;
        }
        .modal.active {
            display: block;
        }
        .modal h2 {
            text-align: center;
            color: #333;
            margin-top: 0;
        }
        .modal input {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            box-sizing: border-box;
        }
        .modal button {
            width: 100%;
            padding: 12px;
            background: #ff6b81;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .modal button:hover {
            background: #ff4757;
        }

        /* 可拖动圆形元素 */
        #loveCircle {
            position: fixed;
            width: 150px;
            height: 150px;
            background: linear-gradient(45deg, #ff9a9e, #fbc2eb);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            cursor: move;
            box-shadow: 0 0 20px rgba(255,107,129,0.5);
            z-index: 50;
            display: none;
        }

        /* 音乐悬浮窗 */
        #musicPlayer {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            padding: 10px 15px;
            border-radius: 30px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            z-index: 200;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #musicPlayer audio {
            width: 200px;
            border: none;
        }
    </style>
</head>
<body>
    <!-- 雪花容器 -->
    <div id="snowContainer"></div>

    <!-- 第一个弹窗：你喜欢谁 -->
    <div class="modal" id="modal1">
        <h2>你喜欢谁</h2>
        <input type="text" id="code1" placeholder="请输入卡密">
        <button onclick="checkCode1()">提交</button>
    </div>

    <!-- 第二个弹窗：答应我好好生活好嘛 -->
    <div class="modal" id="modal2">
        <h2>答应我好好生活好嘛</h2>
        <input type="text" id="code2" placeholder="请输入卡密（好/不好均可）">
        <button onclick="checkCode2()">提交</button>
        <div id="result2" style="text-align: center; margin-top: 15px; font-size: 18px; color: #ff6b81; display: none;"></div>
    </div>

    <!-- 可拖动圆形（我爱你） -->
    <div id="loveCircle">我爱你</div>

    <!-- 音乐悬浮窗 -->
    <div id="musicPlayer">
        <span>音乐播放：</span>
        <audio controls autoplay loop>
            <!-- 此处使用公开音乐链接，若链接失效可替换为其他公开可用的“我想念”音频链接 -->
            <source src="https://music.163.com/song/media/outer/url?id=436514312.mp3" type="audio/mpeg">
            您的浏览器不支持音频播放
        </audio>
    </div>

    <script>
        // 1. 雪花特效（内容为“田思怡宝宝”）
        function createSnow() {
            const container = document.getElementById('snowContainer');
            const snowCount = 50; // 雪花数量
            const text = '田思怡宝宝';

            for (let i = 0; i < snowCount; i++) {
                const snow = document.createElement('div');
                snow.className = 'snow';
                // 随机选取“田思怡宝宝”中的一个字
                snow.textContent = text[Math.floor(Math.random() * text.length)];
                // 随机位置、大小、动画时长
                snow.style.left = `${Math.random() * 100}vw`;
                snow.style.fontSize = `${12 + Math.random() * 10}px`;
                snow.style.animationDuration = `${5 + Math.random() * 10}s`;
                snow.style.animationDelay = `${Math.random() * 5}s`;
                snow.style.opacity = 0.7 + Math.random() * 0.3;
                container.appendChild(snow);
            }
        }

        // 2. 第一个卡密验证（橙子宝宝）
        function checkCode1() {
            const inputCode = document.getElementById('code1').value.trim();
            if (inputCode === '橙子宝宝') {
                document.getElementById('modal1').classList.remove('active');
                // 显示可拖动圆形
                const loveCircle = document.getElementById('loveCircle');
                loveCircle.style.display = 'flex';
                // 随机初始位置
                loveCircle.style.left = `${30 + Math.random() * 40}vw`;
                loveCircle.style.top = `${30 + Math.random() * 40}vh`;
                // 延迟显示第二个弹窗
                setTimeout(() => {
                    document.getElementById('modal2').classList.add('active');
                }, 1000);
            } else {
                alert('卡密错误，请重新输入！');
            }
        }

        // 3. 第二个卡密验证（好/不好均可）
        function checkCode2() {
            const inputCode = document.getElementById('code2').value.trim();
            const result2 = document.getElementById('result2');
            result2.style.display = 'block';
            result2.textContent = '一定要好好活着我陪着你';
            // 隐藏输入框和按钮
            document.getElementById('code2').style.display = 'none';
            document.getElementById('modal2').querySelector('button').style.display = 'none';
        }

        // 4. 可拖动圆形功能
        function makeDraggable(element) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            element.onmousedown = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                // 获取初始鼠标位置
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                // 鼠标移动时更新元素位置
                document.onmousemove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                // 计算新位置
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                // 设置元素新位置（避免超出屏幕）
                const newLeft = element.offsetLeft - pos1;
                const newTop = element.offsetTop - pos2;
                if (newLeft >= 0 && newLeft <= window.innerWidth - element.offsetWidth) {
                    element.style.left = newLeft + "px";
                }
                if (newTop >= 0 && newTop <= window.innerHeight - element.offsetHeight) {
                    element.style.top = newTop + "px";
                }
            }

            function closeDragElement() {
                // 停止拖动
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        // 页面加载完成后执行
        window.onload = function() {
            createSnow();
            // 显示第一个弹窗
            document.getElementById('modal1').classList.add('active');
            // 初始化可拖动圆形
            makeDraggable(document.getElementById('loveCircle'));
        };
    </script>
</body>
</html>